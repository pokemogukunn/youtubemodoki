<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background 1s;
        }
        .top-bar {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f4f4f4;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }
        .top-bar div {
            flex: 1;
            text-align: center;
        }
        .left-section, .right-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 80px;
        }
        .right-section {
            position: fixed;
            top: 100px;
            right: 20px;
        }
        .clicker-icon {
            font-size: 128px;
            display: inline-block;
            cursor: pointer;
            margin-top: 10px;
        }
        .clicker-icon:hover {
            opacity: 0.8;
        }
        #cheatMessage, #antiCheatMessage {
            color: red;
            font-size: 24px;
            display: none;
        }
        .gacha-button {
            margin: 10px;
        }
        #saveCodeDisplay {
            font-size: 18px;
            margin-top: 20px;
        }
        .shop-item {
            margin: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .shop-item .icon {
            font-size: 64px;
        }
        #cheatOptions {
            display: none;
            flex-direction: column;
            align-items: center;
            background-color: #fff;
            padding: 20px;
            border: 2px solid #000;
            border-radius: 10px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1001;
        }
        #cheatOptions input {
            margin: 10px;
        }
    </style>
</head>
<body>
<div class="top-bar">
    <div>
        <input type="text" id="shopNameInput" placeholder="ã‚¯ãƒƒã‚­ãƒ¼å±‹ã•ã‚“ã®åå‰ã‚’å…¥åŠ›" oninput="updateShopName()" />
        <button onclick="randomizeShopName()">ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶</button>
    </div>
    <div>
        <p id="xpCounter">çµŒé¨“å€¤: 0</p>
        <p id="cheatMessage">ãƒãƒ¼ãƒˆç™ºå‹•</p>
        <p id="antiCheatMessage">ãƒãƒ¼ãƒˆè§£é™¤</p>
    </div>
    <div>
        <button id="saveButton" onclick="saveGame()">ã‚»ãƒ¼ãƒ–</button>
        <button id="loadButton" onclick="showLoadPrompt()">ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿</button>
    </div>
</div><br>
<div class="left-section">
<br>
    <p id="cookieCounter">ã‚¯ãƒƒã‚­ãƒ¼: 0</p>
    <div id="clicker"><span class="clicker-icon" onclick="clickCookie()">ğŸª</span></div>
<br>
    <p id="cps">ã‚¯ãƒƒã‚­ãƒ¼/ç§’: 0</p>
</div>
<div class="right-section">
    <!-- å•†å“ãƒªã‚¹ãƒˆã®ç”Ÿæˆ -->
    <script>
        const shopItems = [
            {id: 'cursor', name: 'ã‚«ãƒ¼ã‚½ãƒ«', icon: 'ğŸ‘†', price: 15, cps: 1},
            {id: 'granny', name: 'ãŠã°ã‚ã¡ã‚ƒã‚“', icon: 'ğŸ‘µ', price: 100, cps: 10},
            {id: 'farm', name: 'è¾²å ´', icon: 'ğŸŒ¾', price: 1100, cps: 100},
            {id: 'mine', name: 'é‰±å±±', icon: 'â›ï¸', price: 12000, cps: 200},
            {id: 'factory', name: 'å·¥å ´', icon: 'ğŸ­', price: 130000, cps: 1000},
            {id: 'temple', name: 'ç¥æ®¿', icon: 'â›©ï¸', price: 2000000, cps: 10000},
            {id: 'tower', name: 'é­”æ³•ã®å¡”', icon: 'ğŸ°', price: 33000000, cps: 50000},
            {id: 'ship', name: 'è²¨ç‰©èˆ¹', icon: 'ğŸš¢', price: 510000000, cps: 100000},
            {id: 'lab', name: 'ç ”ç©¶æ‰€', icon: 'ğŸ”¬', price: 7500000000, cps: 500000},
            {id: 'portal', name: 'ãƒãƒ¼ã‚¿ãƒ«', icon: 'ğŸŒ€', price: 100000000000, cps: 1000000},
            {id: 'timeMachine', name: 'ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³', icon: 'â°', price: 1400000000000, cps: 10000000},
            {id: 'antimatterCondenser', name: 'åç‰©è³ªå‡ç¸®å™¨', icon: 'âš›ï¸', price: 17000000000000, cps: 100000000},
            {id: 'prism', name: 'ãƒ—ãƒªã‚ºãƒ ', icon: 'ğŸ”®', price: 210000000000000, cps: 1000000000},
            {id: 'chancemaker', name: 'ãƒãƒ£ãƒ³ã‚¹ãƒ¡ã‚¤ã‚«ãƒ¼', icon: 'ğŸ²', price: 2600000000000000, cps: 10000000000},
            {id: 'fractalEngine', name: 'ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³', icon: 'ğŸ§¬', price: 31000000000000000, cps: 100000000000},
            {id: 'javascriptConsole', name: 'JavaScriptã‚³ãƒ³ã‚½ãƒ¼ãƒ«', icon: 'ğŸ’»', price: 710000000000000000, cps: 500000000000},
            {id: 'idleverse', name: 'ã‚¢ã‚¤ãƒ‰ãƒ«ãƒãƒ¼ã‚¹', icon: 'ğŸŒŒ', price: 12000000000000000000, cps: 1000000000000},
            {id: 'goldenSwitch', name: 'ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¹ã‚¤ãƒƒãƒ', icon: 'ğŸ”†', price: 500000000000000000000, cps: 5000000000000},
            {id: 'hackerSpace', name: 'ãƒãƒƒã‚«ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹', icon: 'ğŸ¤–', price: 9000000000000000000000, cps: 10000000000000},
            {id: 'cookieComet', name: 'ã‚¯ãƒƒã‚­ãƒ¼å½—æ˜Ÿ', icon: 'ğŸŒ ', price: 150000000000000000000000, cps: 50000000000000},
            {id: 'nebula', name: 'æ˜Ÿé›²', icon: 'â˜ï¸', price: 3000000000000000000000000, cps: 100000000000000},
            {id: 'quantumComputer', name: 'é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿', icon: 'ğŸ–¥ï¸', price: 60000000000000000000000000, cps: 500000000000000},
            {id: 'singularity', name: 'ã‚·ãƒ³ã‚®ãƒ¥ãƒ©ãƒªãƒ†ã‚£', icon: 'ğŸŒŒ', price: 1000000000000000000000000000, cps: 1000000000000000},
            {id: 'alienFactory', name: 'ã‚¨ã‚¤ãƒªã‚¢ãƒ³å·¥å ´', icon: 'ğŸ‘½', price: 15000000000000000000000000000, cps: 5000000000000000},
            {id: 'warpDrive', name: 'ãƒ¯ãƒ¼ãƒ—ãƒ‰ãƒ©ã‚¤ãƒ–', icon: 'ğŸš€', price: 300000000000000000000000000000, cps: 10000000000000000},
            {id: 'galacticEmpire', name: 'éŠ€æ²³å¸å›½', icon: 'ğŸ‘¾', price: 6000000000000000000000000000000, cps: 50000000000000000},
            {id: 'universe', name: 'ãƒ¦ãƒ‹ãƒãƒ¼ã‚¹', icon: 'ğŸŒŒ', price: 120000000000000000000000000000000, cps: 100000000000000000},
            {id: 'multiverse', name: 'ãƒãƒ«ãƒãƒãƒ¼ã‚¹', icon: 'ğŸŒ ', price: 2400000000000000000000000000000000, cps: 500000000000000000},
            {id: 'omniverse', name: 'ã‚ªãƒ ãƒ‹ãƒãƒ¼ã‚¹', icon: 'ğŸŒŒ', price: 48000000000000000000000000000000000, cps: 1000000000000000000}
        ];

        let shopItemsHtml = '';
        shopItems.forEach(item => {
            shopItemsHtml += `
                <div id="${item.id}" class="shop-item">
                    <span class="icon" onclick="buyItem('${item.id}')">${item.icon}</span>
                    <button onclick="buyItem('${item.id}')">${item.name}ã‚’è³¼å…¥ (${item.price}ã‚¯ãƒƒã‚­ãƒ¼)</button>
                    <button onclick="sellItem('${item.id}')">${item.name}ã‚’å£²å´ (${Math.floor(item.price / 2)}ã‚¯ãƒƒã‚­ãƒ¼)</button>
                </div>`;
        });
        document.write(shopItemsHtml);
    </script>
</div>
<div class="bottom-section">
    <div>
        <button id="gachaNormalButton" class="gacha-button" onclick="rollGacha('normal')">ãƒãƒ¼ãƒãƒ«ã‚¬ãƒãƒ£ (10ã‚¯ãƒƒã‚­ãƒ¼)</button>
        <button id="gachaRareButton" class="gacha-button" onclick="rollGacha('rare')">ãƒ¬ã‚¢ã‚¬ãƒãƒ£ (100ã‚¯ãƒƒã‚­ãƒ¼)</button>
        <button id="gachaEpicButton" class="gacha-button" onclick="rollGacha('epic')">ã‚¨ãƒ”ãƒƒã‚¯ã‚¬ãƒãƒ£ (1,000ã‚¯ãƒƒã‚­ãƒ¼)</button>
    </div>
    <div>
        <h2>ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ</h2>
        <button class="enchant-button" onclick="enchant()">ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ (150ã‚¯ãƒƒã‚­ãƒ¼)</button>
    </div>
</div>
<div>
    <h2>å®Ÿç¸¾</h2>
    <ul id="achievements"></ul>
</div>
<div id="loadPrompt" style="display:none;">
    <input type="text" id="saveCodeInput" placeholder="ã‚»ãƒ¼ãƒ–ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›" />
    <button id="loadGameButton" onclick="loadGame()">èª­ã¿è¾¼ã¿</button>
    <button id="closeButton" onclick="hideLoadPrompt()">é–‰ã˜ã‚‹</button>
</div>
<div id="saveCodeDisplay"></div>
<div id="cheatOptions">
    <label for="cheatCookies">ã‚¯ãƒƒã‚­ãƒ¼æ•°:</label>
    <input type="number" id="cheatCookies" min="0" />
    <label for="cheatXp">çµŒé¨“å€¤:</label>
    <input type="number" id="cheatXp" min="0" />
    <button onclick="applyCheats()">é©ç”¨</button>
</div>
<!-- ãƒãƒ¼ãƒˆãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ -->
<button id="cheatToggleButton" onclick="toggleCheatMode()">å…¥åŠ›ãƒŸã‚¹</button>

<script>
    var cookieCount = 0;
    var items = {};
    shopItems.forEach(item => {
        items[item.id] = {count: 0, cps: item.cps, price: item.price};
    });
    var cps = 0;
    var xp = 0;
    var cheatMode = false;
    var hasUsedCheat = false;

    var cookieCounter = document.getElementById('cookieCounter');
    var cpsCounter = document.getElementById('cps');
    var xpCounter = document.getElementById('xpCounter');
    var shopNameElement = document.getElementById('shopName');
    var cheatMessage = document.getElementById('cheatMessage');
    var antiCheatMessage = document.getElementById('antiCheatMessage');
    var shopNameInput = document.getElementById('shopNameInput');
    var loadPrompt = document.getElementById('loadPrompt');
    var saveCodeInput = document.getElementById('saveCodeInput');
    var saveCodeDisplay = document.getElementById('saveCodeDisplay');
    var achievementsList = document.getElementById('achievements');
    var cheatOptions = document.getElementById('cheatOptions');

    // ãƒãƒ¼ãƒˆãƒˆã‚°ãƒ«ç”¨ã®é–¢æ•°
    function toggleCheatMode() {
        cheatMode = !cheatMode;
        cheatOptions.style.display = cheatMode ? 'flex' : 'none';
        cheatMessage.style.display = cheatMode ? 'block' : 'none';
        antiCheatMessage.style.display = cheatMode ? 'none' : 'block';
    }

    // ãƒãƒ¼ãƒˆã‚’é©ç”¨ã™ã‚‹é–¢æ•°
    function applyCheats() {
        var cheatCookiesInput = document.getElementById('cheatCookies');
        var cheatXpInput = document.getElementById('cheatXp');

        if (cheatCookiesInput.value !== '') {
            cookieCount = parseInt(cheatCookiesInput.value);
            updateCookieCounter();
        }
        if (cheatXpInput.value !== '') {
            xp = parseInt(cheatXpInput.value);
            updateXpCounter();
        }
    }

    // ã‚¯ãƒƒã‚­ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹é–¢æ•°
    function clickCookie() {
        cookieCount++;
        updateCookieCounter();
    }

    // çµŒé¨“å€¤ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
    function updateXpCounter() {
        xpCounter.textContent = 'çµŒé¨“å€¤: ' + xp;
    }

    // ã‚¯ãƒƒã‚­ãƒ¼ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
    function updateCookieCounter() {
        cookieCounter.textContent = 'ã‚¯ãƒƒã‚­ãƒ¼: ' + cookieCount;
    }

    // çµŒé¨“å€¤ã‚’è¿½åŠ ã™ã‚‹é–¢æ•°
    function addXp(amount) {
        xp += amount;
        updateXpCounter();
    }

    // ã‚»ãƒ¼ãƒ–æ©Ÿèƒ½
    function saveGame() {
        var saveData = {
            cookieCount: cookieCount,
            items: items,
            cps: cps,
            xp: xp
        };
        var saveCode = btoa(JSON.stringify(saveData));
        saveCodeDisplay.textContent = 'ã‚»ãƒ¼ãƒ–ã‚³ãƒ¼ãƒ‰: ' + saveCode;
    }

    // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
    function showLoadPrompt() {
        loadPrompt.style.display = 'block';
    }

    // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’éš ã™é–¢æ•°
    function hideLoadPrompt() {
        loadPrompt.style.display = 'none';
    }

    // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€é–¢æ•°
    function loadGame() {
        var saveCode = saveCodeInput.value;
        try {
            var saveData = JSON.parse(atob(saveCode));
            cookieCount = saveData.cookieCount;
            items = saveData.items;
            cps = saveData.cps;
            xp = saveData.xp;
            updateCookieCounter();
            updateXpCounter();
            updateCps();
            hideLoadPrompt();
        } catch (e) {
            alert('ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒç„¡åŠ¹ã§ã™');
        }
    }

    // å•†å“ã‚’è³¼å…¥ã™ã‚‹é–¢æ•°
    function buyItem(id) {
        if (cookieCount >= items[id].price) {
            cookieCount -= items[id].price;
            items[id].count++;
            items[id].price = Math.floor(items[id].price * 1.15);
            updateCookieCounter();
            updateCps();
        }
    }

    // å•†å“ã‚’å£²å´ã™ã‚‹é–¢æ•°
    function sellItem(id) {
        if (items[id].count > 0) {
            items[id].count--;
            cookieCount += Math.floor(items[id].price / 2);
            items[id].price = Math.floor(items[id].price / 1.15);
            updateCookieCounter();
            updateCps();
        }
    }

    // ã‚¯ãƒƒã‚­ãƒ¼/ç§’ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
    function updateCps() {
        cps = 0;
        for (let id in items) {
            cps += items[id].count * items[id].cps;
        }
        cpsCounter.textContent = 'ã‚¯ãƒƒã‚­ãƒ¼/ç§’: ' + cps;
    }

    // å®Ÿç¸¾ã‚’è§£é™¤ã™ã‚‹é–¢æ•°
    function unlockAchievement(name) {
        var li = document.createElement('li');
        li.textContent = name;
        achievementsList.appendChild(li);
        addXp(10);
    }

    // åº—èˆ—åã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
    function updateShopName() {
        var shopName = shopNameInput.value;
        shopNameElement.textContent = shopName || 'ã‚¯ãƒƒã‚­ãƒ¼å±‹ã•ã‚“';
    }

    // åº—èˆ—åã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶é–¢æ•°
    function randomizeShopName() {
        var shopNames = ['ãŠã„ã—ã„ã‚¯ãƒƒã‚­ãƒ¼', 'å¹¸ã›ã®ã‚¯ãƒƒã‚­ãƒ¼', 'å¤¢ã®ã‚¯ãƒƒã‚­ãƒ¼', 'é­”æ³•ã®ã‚¯ãƒƒã‚­ãƒ¼'];
        var randomName = shopNames[Math.floor(Math.random() * shopNames.length)];
        shopNameInput.value = randomName;
        updateShopName();
    }

    // 1ç§’ã”ã¨ã«ã‚¯ãƒƒã‚­ãƒ¼ã‚’å¢—åŠ ã•ã›ã‚‹
    setInterval(function() {
        cookieCount += cps;
        updateCookieCounter();
    }, 1000);
</script>
<script>
    window.onload = function() {
        var password = prompt("8é–²è¦§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰5ã‚’1å…¥åŠ›7ã—ã¦ãã ã•ã„5:");
        if (password === "85175") {
            content.style.display = "block";
        } else {
            alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™");
            content.style.display = "none";
        }
    };
</script>
</body>
</html>
